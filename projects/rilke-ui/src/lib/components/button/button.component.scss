@import "../../../scss/vars";

$_fs: 1rem;
$_fw: 500;
$_tt: none;
$_padding: ($module-rem * 0.6) ($module-rem);

$_lg-padding: ($module-rem * 0.9) ($module-rem * 1.5);
$_lg-fs: ($_fs * 1.2);

$_sm-padding: ($module-rem * 0.3) ($module-rem * 0.5);
$_sm-fs: ($_fs * 0.8);

//btn colors
$_types: (
	accent: (
		bg: $indigo,
		color: $grey-50,
		hover-bg: darken($indigo, 10%),
	),
	success: (
		bg: $light-green,
		color: $grey-50,
		hover-bg: darken($light-green, 10%),
	),
	info: (
		bg: $light-blue,
		color: $grey-50,
		hover-bg: darken($light-blue, 10%),
	),
	warning: (
		bg: $amber,
		color: $grey-50,
		hover-bg: darken($amber, 10%),
	),
	error: (
		bg: $pink,
		color: $grey-50,
		hover-bg: darken($pink, 10%),
	),
	light: (
		bg: $grey-100,
		color: $grey-900,
		hover-bg: darken($grey-100, 10%),
	),
	dark: (
		bg: $grey-900,
		color: $grey-50,
		hover-bg: darken($grey-900, 10%),
	),
);

:host {
	align-items: center;
	border: transparent 0 solid;
	border-radius: $r-1;
	cursor: pointer;
	display: inline-flex;
	width: fit-content;
	font-size: $_fs;
	font-weight: $_fw;
	justify-content: center;
	line-height: $_fs;
	outline: none;
	padding: $_padding;
	position: relative;
	text-align: center;
	text-transform: $_tt;
	touch-action: manipulation;
	user-select: none;
	vertical-align: middle;
	white-space: nowrap;
	appearance: none;
	color: $grey-50;

	&:hover {
		border-color: transparent;
		box-shadow: $s-2;
	}

	.btn-text {
		display: flex;
		align-items: center;
		justify-content: center;
		min-height: $_fs;

		&:empty {
			margin: 0;
		}
	}

	.btn-icon {
		font-size: 1.3em;

		&.after-icon {
			flex-grow: 1;
			text-align: right;
		}
	}

	.btn-loader,
	.btn-loader::after {
		border-radius: 50%;
		width: 1rem;
		height: 1rem;
	}

	.btn-loader {
		font-size: 10px;
		position: absolute;
		text-indent: -9999em;
		border-top: 2px solid rgba(255, 255, 255, 20%);
		border-right: 2px solid rgba(255, 255, 255, 20%);
		border-bottom: 2px solid rgba(255, 255, 255, 20%);
		border-left: 2px solid #FFF;
		transform: translateZ(0);
		transform: translateZ(0);
		transform: translateZ(0);
		animation: load8 1.1s infinite linear;
		animation: load8 1.1s infinite linear;
	}

	@keyframes load8 {
		0% {
			transform: rotate(0deg);
			transform: rotate(0deg);
		}

		100% {
			transform: rotate(360deg);
			transform: rotate(360deg);
		}
	}

	@keyframes load8 {
		0% {
			transform: rotate(0deg);
			transform: rotate(0deg);
		}

		100% {
			transform: rotate(360deg);
			transform: rotate(360deg);
		}
	}

	&.btn-left {
		justify-content: flex-start;
		text-align: left;
	}

	&.btn-right {
		justify-content: flex-end;
		text-align: right;
	}

	&.btn-lg {
		font-size: $_lg-fs;
		line-height: $_lg-fs;
		padding: $_lg-padding;

		.btn-text {
			min-height: $_lg-fs;
		}
	}

	&.btn-sm {
		font-size: $_sm-fs;
		line-height: $_sm-fs;
		padding: $_sm-padding;

		.btn-text {
			min-height: $_sm-fs;
		}
	}

	//colors - (default, accent, gray, neutral, success, info, warning, error)
	@each $_type, $_color in $_types {
		&.btn-#{$_type} {
			background: map-get($_color, bg);
			color: map-get($_color, color);

			&:hover {
				background: map-get($_color, hover-bg);
			}

			&.btn-outline {
				border-color: map-get($_color, bg);
				color: map-get($_color, bg);

				&:hover,
				&.active {
					background: map-get($_color, bg);
					color: map-get($_color, color);
				}
			}
		}
	}

	&.btn-outline {
		background: transparent;
		border: 1px solid transparent;
	}

	&.btn-shadow {
		box-shadow: $s-2;
	}

	&.btn-disabled {
		cursor: not-allowed;
		opacity: 60%;
		pointer-events: none;
	}

	&.btn-load {
		cursor: not-allowed;
		pointer-events: none;

		.btn-text,
		.btn-icon {
			visibility: hidden;
		}

		.btn-loader {
			visibility: visible;
		}
	}
}
